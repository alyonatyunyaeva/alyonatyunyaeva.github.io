(this["webpackJsonpgit-hub-repos-proj"]=this["webpackJsonpgit-hub-repos-proj"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){},,,,function(e,t,a){e.exports=a(34)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(15),o=a.n(s),i=(a(23),a(2)),c=a(3),l=a(5),m=a(4),u=(a(24),a(25),{searchTop:function(){return fetch("https://api.github.com/search/repositories?sort=stars&q=stars:%3E=1").then((function(e){return e.json()})).then((function(e){return e.items?e.items.map((function(e){return{id:e.id,reposName:e.name,reposUrl:e.html_url,stars:e.stargazers_count,lastCommitDate:e.pushed_at,icon:e.owner.avatar_url,ownerName:e.owner.login,ownerPage:e.owner.html_url,language:e.language,reposDesc:e.description,contributors:e.contributors_url}})).slice(0,10):[]})).catch((function(){return console.log("--  Error  --"),[]}))},searchReposByName:function(e,t){return fetch("https://api.github.com/search/repositories?sort=stars&q=".concat(e,"+in:name&per_page=10&page=").concat(t)).then((function(e){return e.json()})).then((function(e){return e.items?{totalCount:e.total_count,repositories:e.items.map((function(e){return{id:e.id,reposName:e.name,reposUrl:e.html_url,stars:e.stargazers_count,lastCommitDate:e.updated_at,icon:e.owner.avatar_url,ownerName:e.owner.login,ownerPage:e.owner.html_url,language:e.language,reposDesc:e.description,contributors:e.contributors_url}}))}:{totalCount:0,repositories:[]}})).catch((function(){return console.log("--  Error  --"),[]}))},searchCertainRepos:function(e,t){return fetch("https://api.github.com/search/repositories?q=repo:".concat(e,"/").concat(t)).then((function(e){return e.json()})).then((function(e){return e.items?{id:e.items[0].id,reposName:e.items[0].name,reposUrl:e.items[0].html_url,stars:e.items[0].stargazers_count,lastCommitDate:e.items[0].updated_at,icon:e.items[0].owner.avatar_url,ownerName:e.items[0].owner.login,ownerPage:e.items[0].owner.html_url,language:e.items[0].language,reposDesc:e.items[0].description,contributors:e.items[0].contributors_url}:[]})).catch((function(){return console.log("--  Error  --"),[]}))},searchContributors:function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return{id:e.id,contributorName:e.login,contributorImg:e.avatar_url,contributorLink:e.html_url,contributions:e.contributions}})).slice(0,10)})).catch((function(){return console.log("--  Error  --"),[]}))}}),p=(a(26),a(36)),h=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"repository"},n.a.createElement("div",{className:"repository__line-1"},n.a.createElement("div",{className:"repository__image-container"},n.a.createElement("img",{src:this.props.repository.icon,className:"repository__image-container-img",alt:"Some picture"})),n.a.createElement("div",null,n.a.createElement(p.a,{to:"/details/".concat(this.props.repository.ownerName,"/").concat(this.props.repository.reposName),className:"repository__reposName"},"  ",this.props.repository.reposName," "))),n.a.createElement("div",{className:"repository__line-2"},n.a.createElement("div",{className:"repository__stars-img"}),n.a.createElement("p",{className:"repository__stars"},this.props.repository.stars),n.a.createElement("p",{className:"repository__last-commit"},"Last commit was ",n.a.createElement("br",null)," ",this.props.repository.lastCommitDate),n.a.createElement("a",{href:this.props.repository.reposUrl,className:"repository__link",target:"blank"},"Go to repository")))}}]),a}(n.a.Component),d=(a(14),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={repositories:[],isLoading:!1},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),u.searchTop().then((function(t){e.setState({repositories:t,isLoading:!1})}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"rep-list"},"GitHub Top 10",this.state.isLoading&&n.a.createElement("div",null,n.a.createElement("div",null,"Loading"),n.a.createElement("div",{className:"loader-container"},n.a.createElement("div",{className:"triangle"}),n.a.createElement("div",{className:"triangle"}),n.a.createElement("div",{className:"triangle"}),n.a.createElement("div",{className:"triangle"}),n.a.createElement("div",{className:"triangle"}))),!this.state.isLoading&&this.state.repositories.map((function(e){return n.a.createElement(h,{key:e.id,repository:e})})))}}]),a}(n.a.Component)),g=a(6),b=a(39),E=(a(29),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).handleSearchPlus=r.handleSearchPlus.bind(Object(g.a)(r)),r.handleSearchMinus=r.handleSearchMinus.bind(Object(g.a)(r)),r}return Object(c.a)(a,[{key:"handleSearchPlus",value:function(){this.props.match.params.pagenumber<this.props.totalPages&&this.props.history.push({pathname:"/search/".concat(this.props.match.params.query,"/").concat(+this.props.match.params.pagenumber+1)})}},{key:"handleSearchMinus",value:function(){this.props.match.params.pagenumber>1&&this.props.history.push({pathname:"/search/".concat(this.props.match.params.query,"/").concat(+this.props.match.params.pagenumber-1)})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("button",{value:"minus",className:"pageControls",onClick:this.handleSearchMinus},"\u2039"),this.props.match.params.pagenumber," \u0438\u0437 ",this.props.totalPages,n.a.createElement("button",{value:"plus",className:"pageControls",onClick:this.handleSearchPlus},"\u203a"))}}]),a}(n.a.Component)),v=Object(b.a)(E),_=(a(31),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={repositories:[],loading:!1,totalPages:0,noResult:!1},r.goBack=r.goBack.bind(Object(g.a)(r)),r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.search()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.query===e.match.params.query&&this.props.match.params.pagenumber===e.match.params.pagenumber||this.search()}},{key:"search",value:function(){var e=this,t=this.props.match.params.query,a=this.props.match.params.pagenumber;this.setState({loading:!0}),u.searchReposByName(t,a).then((function(t){var a=t.totalCount,r=t.repositories,n=Math.ceil(a/10);0!==n?n<100?e.setState({totalPages:n,repositories:r,loading:!1,noResult:!1}):e.setState({totalPages:100,repositories:r,loading:!1,noResult:!1}):e.setState({noResult:!0,loading:!1})}))}},{key:"goBack",value:function(){"1"!==this.props.match.params.pagenumber?this.props.history.push({pathname:"/search/".concat(this.props.match.params.query,"/1")}):this.props.history.push({pathname:"/"})}},{key:"render",value:function(){return n.a.createElement("div",{className:"rep-list-search"},this.state.loading&&n.a.createElement("div",null,n.a.createElement("div",null,"Loading"),n.a.createElement("div",{className:"loader-container"},n.a.createElement("div",{className:"triangle"}),n.a.createElement("div",{className:"triangle"}),n.a.createElement("div",{className:"triangle"}),n.a.createElement("div",{className:"triangle"}),n.a.createElement("div",{className:"triangle"}))),!this.state.noResult&&!this.state.loading&&n.a.createElement("div",null,n.a.createElement(v,{totalPages:this.state.totalPages}),n.a.createElement("div",{onClick:this.goBack},"1"===this.props.match.params.pagenumber&&n.a.createElement("div",{className:"repoDetails__back"},"\u2190 back to TOP!"),"1"!==this.props.match.params.pagenumber&&n.a.createElement("div",{className:"repoDetails__back"},"\u2190\xa0to the begining")),n.a.createElement("div",null,'RESULTS FOR "',this.props.match.params.query.toUpperCase(),'" QUERY'),this.state.repositories.map((function(e){return n.a.createElement(h,{key:e.id,repository:e})}))),this.state.noResult&&!this.state.loading&&n.a.createElement("div",null,n.a.createElement("div",{onClick:this.goBack},"\u2190 back to TOP!"),n.a.createElement("br",null),"Sorry, no matches were found for your query. ",n.a.createElement("br",null),n.a.createElement("img",{className:"noResultImg",src:"catcrying.gif"})))}}]),a}(n.a.Component)),y=Object(b.a)(_),f=(a(32),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={queryText:""},r.handleQueryText=r.handleQueryText.bind(Object(g.a)(r)),r.handleSearch=r.handleSearch.bind(Object(g.a)(r)),r}return Object(c.a)(a,[{key:"handleQueryText",value:function(e){this.setState({queryText:e.target.value})}},{key:"handleSearch",value:function(e){"keydown"===e.type&&13!==e.keyCode||(""!==this.state.queryText?this.props.history.push({pathname:"/search/".concat(this.state.queryText,"/1")}):this.props.history.push({pathname:"/"}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"searchBar-fields"},n.a.createElement("input",{className:"searchBar-fields__input",onChange:this.handleQueryText,onKeyDown:this.handleSearch,placeholder:"Your query... "})),n.a.createElement("div",{className:"searchBar-submit"},n.a.createElement("a",{onClick:this.handleSearch,className:"searchBar-submit__link"},"SEARCH!")))}}]),a}(n.a.Component)),N=Object(b.a)(f),k=(a(33),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={repository:{},contributors:[],loading:!1},r.goBack=r.goBack.bind(Object(g.a)(r)),r.renderContriList=r.renderContriList.bind(Object(g.a)(r)),r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0});var t=this.props.match.params.username,a=this.props.match.params.reponame;console.log(t,a),u.searchCertainRepos(t,a).then((function(t){return e.setState({repository:t,loading:!1}),t.contributors})).then((function(e){return u.searchContributors(e)})).then((function(t){e.setState({contributors:t})}))}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"renderContriList",value:function(){return this.state.contributors.map((function(e){return n.a.createElement("div",{className:"contributors-top__list__contributor",key:e.id},n.a.createElement("div",null,n.a.createElement("img",{src:e.contributorImg,className:"contributors-top__list__contributor-img"})),n.a.createElement("div",{className:"contributors-top__list__contributor-name"},n.a.createElement("a",{className:"contributors-top__list__contributor-name",href:e.contributorLink,target:"blank"},e.contributorName)),n.a.createElement("div",{className:"contributors-top__list__contributor-count"},e.contributions))}))}},{key:"render",value:function(){return console.log("det>>> ",this.props.match.params),n.a.createElement("div",{className:"repoDetails"},n.a.createElement("div",{className:"repoDetails__pointer"},"DETAILS"),n.a.createElement("div",{className:"repoDetails__back",onClick:this.goBack},"\u2190 back"),this.state.loading&&"loading",!this.state.loading&&n.a.createElement("div",null,n.a.createElement("div",{className:"repo-header"},n.a.createElement("div",{className:"repo-header__names"},n.a.createElement("div",{className:"repo-header__names-repository"},n.a.createElement("div",{className:"repo-header__names-repository-image-container"},n.a.createElement("img",{src:this.state.repository.icon,className:"repo-header__names-repository-image-container-img",alt:"Owner Picture"})),n.a.createElement("div",{className:"repo-header__names-repository-name"},this.state.repository.reposName)),n.a.createElement("div",{className:"repo-header__names-owner"},"by ",n.a.createElement("br",null),n.a.createElement("a",{href:this.state.repository.ownerPage,className:"repo-header__names-owner-link",target:"blank"},this.state.repository.ownerName))),n.a.createElement("div",{className:"repo-header__details"},n.a.createElement("div",{className:"repo-header__details-stars-img"}),n.a.createElement("p",{className:"repo-header__details-stars"},this.state.repository.stars),n.a.createElement("p",{className:"repo-header__details-last-commit"},"Last commit was ",n.a.createElement("br",null)," ",this.state.repository.lastCommitDate))),n.a.createElement("div",{className:"main-info"},n.a.createElement("div",{className:"main-info__language"},"LANGUAGE ",n.a.createElement("br",null),this.state.repository.language),n.a.createElement("div",{className:"main-info__desc"},"DESCRIPTION ",n.a.createElement("br",null),this.state.repository.reposDesc)),n.a.createElement("div",{className:"contributors-top"},n.a.createElement("div",{className:"contributors-top__pointer"},"CONTRIBUTORS TOP"),n.a.createElement("div",{className:"contributors-top__list"},this.renderContriList()))))}}]),a}(n.a.Component)),O=Object(b.a)(k),j=a(38),C=a(40),S=a(37),w=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement(j.a,null,n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"App-header"},"REPOSITORIES SEARCH ",n.a.createElement("br",null),"NEW GENERATION"),n.a.createElement("div",{className:"App-main"},n.a.createElement(C.a,null,n.a.createElement(S.a,{path:"/details/:username/:reponame"},n.a.createElement(O,null)),n.a.createElement(S.a,{path:"/search/:query/:pagenumber?"},n.a.createElement(n.a.Fragment,null,n.a.createElement(N,null),n.a.createElement(y,null))),n.a.createElement(S.a,{path:"/"},n.a.createElement("div",null,n.a.createElement(N,null),n.a.createElement("br",null),n.a.createElement(d,null)))))))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[18,1,2]]]);
//# sourceMappingURL=main.b58cf8a2.chunk.js.map